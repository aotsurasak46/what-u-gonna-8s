@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using what_u_gonna_eat.ViewModels;

@model ProfileViewModel;
@{
    ViewData["Title"] = "Profile";
    Layout = null;
}

<h1>Proflie</h1>
<div>
    <p>Name : @ViewBag.Username</p>
</div>

<div>
    @foreach(var post in Model.deliverposts)
    {
        @if(post.PosterId == Model.account.Id)
        {
            <div style="border: 1px solid black">
                <p>Type : Deliver Post</p>
                <p>Restaurant : @post.Restaurant</p>
                <P>Description : @post.Description</P>
                
                    <!-- Use the asp-confirm attribute to display a confirmation dialog -->
                <form method="post" asp-action="Delete" asp-controller="DeliverPost" asp-route-postId="@post.Id">

                    <button id="deleteButton" class="btn btn-danger" asp-confirm="Are you sure you want to delete this post">Delete</button>
                </form>
            </div>
        }
    }
    @foreach (var post in Model.eaterposts)
    {
        @if (post.PosterId == Model.account.Id)
        {
            <div style="border: 1px solid black">
                <p>Type : Eater Post</p>
                <p>Menu : @post.Menu</p>
                <P>Description : @post.Description</P>
                <p>Orderer : @post.</p>
                    <!-- Use the asp-confirm attribute to display a confirmation dialog -->
                <button id="deleteButton" asp-action="Delete" asp-controller="EaterPost" asp-route-postId="@post.Id" method="post" type="submit" class="btn btn-danger" asp-confirm="Are you sure you want to delete this post">Delete</button>
            </div>
        }
    }
</div>
<script>
    var deleteButton = document.getElementById("deleteButton");

    // Add an onclick event listener to the button
    deleteButton.addEventListener("click", function (event) {
        // Display the confirmation dialog
        var confirmDelete = confirm("Are you sure you want to delete this object?");

        // If the user clicked "Cancel", prevent the form submission
        if (!confirmDelete) {
            event.preventDefault();
        }
    });
</script>