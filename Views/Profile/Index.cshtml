@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using what_u_gonna_eat.ViewModels;
@model ProfileViewModel;
<link rel="stylesheet" href="~/css/Profile.css" />
@{
    ViewData["Title"] = "Profile";
}

<div class="container grid grid-cols-1 gap-16 m-3 pt-6 md:grid-cols-2 lg:grid-cols-3 lg:px-10">

    <!-- column1 info -->
    <div class="col">


        <h1 class="headpro">profile</h1>

        <div class="info-edit" type="text" value="Username">
            <span class="show-text">Name : @Model.account.Username</span>
        </div>

        <div class="info-edit">
            <span class="show-text">Email : @Model.account.Email</span>
        </div>

        <div class="info-edit">
            @if (Model.account.PhoneNumber != null)
            {
                <p>Phone number : @Model.account.PhoneNumber</p>
            }
            else
            {
                <p>Phone number : - </p>
            }
        </div>

        <button asp-controller="Profile" asp-action="Edit" class="editbtn">Edit</button>

    </div>

    <!-- column2 History -->

    <div class="history">
        <h1 class="text-his">History</h1>
        <div class="line"></div>
        <!-- <span class="line1">test</span><br>
        <span class="line1">test</span><br>
        <span class="line1">test</span> -->
    </div>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>


</div>











@*<h1>History</h1>
<div>
    <h1>Your Deliver Post</h1>
    @foreach(var post in Model.deliverposts)
    {
        @if(post.PosterId == Model.account.Id)
        {
            <div style="border: 1px solid black">
                @if (post.Status)
                {
                    <div id="statusbox" style="height:30px;width:100px;right:10px;top:10px;border:1px solid black;background;background-color:#164400;position:center" >เปิด</div>
                }
                else
                {
                    <div id="statusbox" style="right:10px;top:10px;border:1px solid black;background;background-color:#DA1820"><p>ปิด</p></div>
                }
                <p>Type : Deliver Post</p>
                <p>Restaurant : @post.Restaurant</p>
                <P>Description : @post.Description</P>
                @if (post.Orderers != null && post.Orderers.Any())
                {
                    <p>Orderers:</p>
                    <ul>
                        @foreach (var orderer in post.Orderers)
                        {
                            <li>@orderer.Orderer?.Username - @orderer.Menu - @orderer.Description</li>
                        }
                    </ul>
                }
                else
                {
                    <p>Oderer: none</p>
                }

                <!-- Use the asp-confirm attribute to display a confirmation dialog -->
                <form method="post" asp-action="Delete" asp-controller="DeliverPost" asp-route-postId="@post.Id">

                    <button id="deleteButton" class="btn btn-danger" asp-confirm="Are you sure you want to delete this post">Delete</button>
                </form>

            </div>
        }
    }
    <h1>Your Eater Post</h1>
    @foreach (var post in Model.eaterposts)
    {
        @if (post.PosterId == Model.account.Id)
        {
            <div style="border: 1px solid black">
                <p>Type : Eater Post</p>
                <p>Menu : @post.Menu</p>
                <P>Description : @post.Description</P>
                <p>Buyer: @Model.eaterpostaccounts.FirstOrDefault(e => e.EaterPostId == post.Id)?.Buyer?.Username</p>

                    <!-- Use the asp-confirm attribute to display a confirmation dialog -->
                <form method="post" asp-action="Delete" asp-controller="EaterPost" asp-route-postId="@post.Id">
                    <button id="deleteButton" class="btn btn-danger" asp-confirm="Are you sure you want to delete this post">Delete</button>
                </form>
            </div>
        }
    }
</div>*@
<script>
    var deleteButton = document.getElementById("deleteButton");

    // Add an onclick event listener to the button
    deleteButton.addEventListener("click", function (event) {
        // Display the confirmation dialog
        var confirmDelete = confirm("Are you sure you want to delete this object?");

        // If the user clicked "Cancel", prevent the form submission
        if (!confirmDelete) {
            event.preventDefault();
        }
    });
</script>